# @iamjariwala/react-doc-viewer — Complete Documentation

> The most feature-complete open-source document viewer for React. Render PDF, Word, Excel, PowerPoint, images, video, CSV, HTML, and 20+ file types in a single drop-in component. Now with dark mode, print, fullscreen, text search, bookmarks, watermarks, password-protected PDFs, keyboard shortcuts, and split/compare view.

Package: `@iamjariwala/react-doc-viewer`
License: Apache-2.0
Repository: https://github.com/mehuljariwala/react-doc-viewer
npm: https://www.npmjs.com/package/@iamjariwala/react-doc-viewer
Demo: https://mehuljariwala.github.io/react-doc-viewer

---

## Installation

```bash
npm install @iamjariwala/react-doc-viewer
```

Also available via yarn, pnpm, and bun.

Peer dependencies: `react >= 17.0.0`, `react-dom >= 17.0.0`

---

## Quick Start

```tsx
import DocViewer, { DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
import "@iamjariwala/react-doc-viewer/dist/index.css";

function App() {
  const docs = [
    { uri: "https://example.com/sample.pdf" },
    { uri: "https://example.com/photo.png" },
  ];

  return <DocViewer documents={docs} pluginRenderers={DocViewerRenderers} />;
}
```

The CSS import is required for PDF pages, annotations, thumbnails, and all styled elements.

---

## What's New in v1.3.0

v1.3.0 adds 11 new features, all opt-in via the `config` prop:

1. **Dark Mode** — `themeMode: "light" | "dark" | "auto"` with CSS variable theming and `prefers-color-scheme` auto-detection
2. **Print** — `print: { enablePrint: true }` adds a print button to the toolbar and enables Ctrl+P shortcut
3. **Fullscreen** — `fullscreen: { enableFullscreen: true }` adds a fullscreen toggle with F key shortcut
4. **Loading Progress Bar** — `loadingProgress: { enableProgressBar: true }` shows an animated progress bar during PDF loading
5. **Watermark Overlay** — `watermark: { text: "CONFIDENTIAL" }` renders repeated rotated text over every PDF page
6. **Text Selection & Copy** — `textSelection: { enableTextSelection: true }` enables the react-pdf text layer for selecting and copying text
7. **Keyboard Shortcuts** — `keyboard: { enableKeyboardShortcuts: true }` enables ArrowLeft/Right, Home/End, +/- zoom, 0 reset, Ctrl+F search, Ctrl+P print, F fullscreen, Escape
8. **Password-Protected PDFs** — `password: { enablePasswordPrompt: true }` shows a modal password prompt for encrypted PDF files
9. **Text Search** — `search: { enableSearch: true }` enables full-text search across all PDF pages with match count and prev/next navigation
10. **PDF Bookmarks / TOC** — `bookmarks: { enableBookmarks: true }` shows a sidebar with the auto-extracted PDF outline, nested items, and click-to-navigate
11. **Split View / Compare** — New `<SplitDocViewer>` component for side-by-side document comparison with a draggable divider and optional synchronized scrolling

New TypeScript config interfaces:

```ts
interface IPrintConfig { enablePrint?: boolean }
interface IFullscreenConfig { enableFullscreen?: boolean }
interface ILoadingProgressConfig { enableProgressBar?: boolean }
interface IWatermarkConfig { text: string; opacity?: number; fontSize?: number; color?: string; rotation?: number }
interface ITextSelectionConfig { enableTextSelection?: boolean }
interface IKeyboardConfig { enableKeyboardShortcuts?: boolean }
interface IPasswordConfig { enablePasswordPrompt?: boolean }
interface ISearchConfig { enableSearch?: boolean }
interface IBookmarksConfig { enableBookmarks?: boolean }
interface ISplitViewConfig { enableSplitView?: boolean; syncScroll?: boolean }
```

---

## Supported File Types

| Extension | MIME Type | Renderer |
|-----------|-----------|----------|
| pdf | application/pdf | Full viewer with zoom, pagination, thumbnails |
| png | image/png | Image with checkerboard background |
| jpg/jpeg | image/jpg, image/jpeg | Image viewer |
| gif | image/gif | Image viewer (animated GIF support) |
| bmp | image/bmp | Image viewer |
| tiff | image/tiff | Canvas-based TIFF renderer |
| webp | image/webp | Image viewer |
| csv | text/csv | Parsed table with configurable delimiter |
| txt | text/plain | Monospace text viewer |
| htm/html | text/htm, text/html | Sandboxed iframe with DOMPurify sanitization |
| mp4 | video/mp4 | Native video player with controls |
| doc | application/msword | Download card |
| docx | application/vnd.openxmlformats-officedocument.wordprocessingml.document | Download card |
| xls | application/vnd.ms-excel | Download card |
| xlsx | application/vnd.openxmlformats-officedocument.spreadsheetml.sheet | Download card |
| ppt | application/vnd.ms-powerpoint | Download card |
| pptx | application/vnd.openxmlformats-officedocument.presentationml.presentation | Download card |
| odt | application/vnd.oasis.opendocument.text | Download card |

MS Office documents render as download cards showing file name, type, and a download link. No external service or public URL required.

---

## Framework Guides

### Next.js (App Router & Pages Router)

```tsx
"use client";

import DocViewer, { DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
import "@iamjariwala/react-doc-viewer/dist/index.css";

export default function DocumentPage() {
  return (
    <DocViewer
      documents={[{ uri: "/documents/report.pdf" }]}
      pluginRenderers={DocViewerRenderers}
    />
  );
}
```

The `"use client"` directive is required for App Router since DocViewer uses browser APIs.

### Vite

```tsx
import DocViewer, { DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
import "@iamjariwala/react-doc-viewer/dist/index.css";

function App() {
  return (
    <DocViewer
      documents={[{ uri: "/sample.pdf" }]}
      pluginRenderers={DocViewerRenderers}
    />
  );
}
```

### Create React App

```tsx
import DocViewer, { DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
import "@iamjariwala/react-doc-viewer/dist/index.css";

function App() {
  return (
    <DocViewer
      documents={[{ uri: `${process.env.PUBLIC_URL}/sample.pdf` }]}
      pluginRenderers={DocViewerRenderers}
    />
  );
}
```

### Remix

```tsx
import { ClientOnly } from "remix-utils/client-only";

export default function DocumentRoute() {
  return (
    <ClientOnly fallback={<p>Loading viewer...</p>}>
      {() => {
        const DocViewer = require("@iamjariwala/react-doc-viewer").default;
        const { DocViewerRenderers } = require("@iamjariwala/react-doc-viewer");
        require("@iamjariwala/react-doc-viewer/dist/index.css");
        return (
          <DocViewer
            documents={[{ uri: "/documents/report.pdf" }]}
            pluginRenderers={DocViewerRenderers}
          />
        );
      }}
    </ClientOnly>
  );
}
```

---

## DocViewer Props

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| documents | IDocument[] | Yes | Array of documents to display |
| pluginRenderers | DocRenderer[] | No | Renderers to use (use DocViewerRenderers for all) |
| className | string | No | CSS class for the container |
| style | CSSProperties | No | Inline styles for the container |
| config | IConfig | No | Configuration object |
| theme | ITheme | No | Theme colors |
| prefetchMethod | string | No | HTTP method for prefetching ("HEAD" default) |
| requestHeaders | Record<string, string> | No | Custom headers for document requests |
| initialActiveDocument | IDocument | No | Document to display initially |
| activeDocument | IDocument | No | Controlled active document |
| onDocumentChange | (doc: IDocument) => void | No | Callback when active document changes |
| language | AvailableLanguages | No | UI language code |
| jumpToPage | number | No | Declarative page jump for PDFs |
| themeMode | "light" \| "dark" \| "auto" | No | Color scheme mode (auto uses prefers-color-scheme) |
| ref | DocViewerRef | No | Ref for programmatic control |

---

## Documents

### Remote & Local Files

```tsx
const docs = [
  { uri: "https://example.com/file.pdf" },
  { uri: require("./files/document.pdf") },
];
```

### Initial Active Document

```tsx
<DocViewer
  documents={docs}
  initialActiveDocument={docs[1]}
  pluginRenderers={DocViewerRenderers}
/>
```

### Controlled Document

```tsx
const [activeDocument, setActiveDocument] = useState(docs[0]);

<DocViewer
  documents={docs}
  activeDocument={activeDocument}
  onDocumentChange={setActiveDocument}
  pluginRenderers={DocViewerRenderers}
/>
```

### Blob / Uploaded Files

```tsx
const [files, setFiles] = useState<File[]>([]);

<input
  type="file"
  accept=".pdf"
  multiple
  onChange={(e) => e.target.files?.length && setFiles(Array.from(e.target.files))}
/>
<DocViewer
  documents={files.map((file) => ({
    uri: window.URL.createObjectURL(file),
    fileName: file.name,
  }))}
  pluginRenderers={DocViewerRenderers}
/>
```

---

## Renderers

### Built-in Renderers

Use all renderers:

```tsx
import DocViewer, { DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
<DocViewer pluginRenderers={DocViewerRenderers} documents={docs} />;
```

Or import selectively for smaller bundles:

```tsx
import DocViewer, { PDFRenderer, PNGRenderer } from "@iamjariwala/react-doc-viewer";
<DocViewer pluginRenderers={[PDFRenderer, PNGRenderer]} documents={docs} />;
```

Available renderers: BMPRenderer, CSVRenderer, GIFRenderer, HTMLRenderer, JPGRenderer, MSDocRenderer, PDFRenderer, PNGRenderer, TIFFRenderer, TXTRenderer, VideoRenderer, WebPRenderer

### Custom Renderer

```tsx
import { DocRenderer } from "@iamjariwala/react-doc-viewer";

const MyPNGRenderer: DocRenderer = ({ mainState: { currentDocument } }) => {
  if (!currentDocument) return null;
  return <img src={currentDocument.fileData as string} />;
};

MyPNGRenderer.fileTypes = ["png", "image/png"];
MyPNGRenderer.weight = 1;

<DocViewer pluginRenderers={[MyPNGRenderer]} documents={docs} />;
```

### Custom File Loader

```tsx
MyPNGRenderer.fileLoader = ({ documentURI, signal, fileLoaderComplete }) => {
  myCustomLoader(documentURI).then(() => {
    fileLoaderComplete();
  });
};
```

---

## Drag & Drop File Upload

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    dragDrop: {
      enableDragDrop: true,
      acceptedFileTypes: ["application/pdf", "image/*"],
      maxFileSize: 50 * 1024 * 1024,
      dropBehavior: "append",
      onDrop: (files) => console.log("Files dropped:", files),
      onDropRejected: (files, reason) => console.log("Rejected:", reason),
    },
  }}
/>
```

Options:
- enableDragDrop (boolean, default false): Enable drag-and-drop
- acceptedFileTypes (string[]): MIME types to accept (supports wildcards)
- maxFileSize (number): Max file size in bytes
- dropBehavior ("append" | "replace"): Add to or replace existing documents
- onDrop ((files: File[]) => void): Callback when files are accepted
- onDropRejected ((files: File[], reason) => void): Callback when rejected

---

## Thumbnail Sidebar

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    thumbnail: {
      enableThumbnails: true,
      thumbnailWidth: 120,
      sidebarDefaultOpen: true,
    },
  }}
/>
```

Options:
- enableThumbnails (boolean, default false): Enable thumbnail sidebar
- thumbnailWidth (number, default 120): Width in pixels
- sidebarDefaultOpen (boolean, default false): Open sidebar by default

---

## Annotations (Highlight, Draw, Comment)

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    annotations: {
      enableAnnotations: true,
      defaultColor: "#FFFF00",
      colors: ["#FFFF00", "#FF6B6B", "#4ECDC4", "#45B7D1", "#96CEB4"],
      tools: ["select", "highlight", "pen", "comment", "eraser"],
      onAnnotationChange: (annotations) => console.log(annotations),
      initialAnnotations: [],
    },
  }}
/>
```

Options:
- enableAnnotations (boolean): Enable annotation toolbar
- defaultColor (string): Default annotation color
- colors (string[]): Color palette
- tools (AnnotationTool[]): Tools to show
- onAnnotationChange ((annotations) => void): Change callback
- initialAnnotations (IAnnotation[]): Pre-loaded annotations

Exporting annotations:

```tsx
import { useAnnotationExport } from "@iamjariwala/react-doc-viewer";

const { exportAnnotations, exportAsJSON, downloadAnnotations, getAnnotationsForPage, annotationCount } = useAnnotationExport();
```

---

## Page Navigation & Page Jump

Using ref:

```tsx
import DocViewer, { DocViewerRef } from "@iamjariwala/react-doc-viewer";

const docViewerRef = useRef<DocViewerRef>(null);

<DocViewer ref={docViewerRef} documents={docs} pluginRenderers={DocViewerRenderers} />;

docViewerRef.current?.goToPage(5);
docViewerRef.current?.prev();
docViewerRef.current?.next();
```

Using jumpToPage prop:

```tsx
const [page, setPage] = useState(1);
<DocViewer documents={docs} pluginRenderers={DocViewerRenderers} jumpToPage={page} />;
```

---

## Dark Mode

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  themeMode="dark"
/>
```

Options for `themeMode`:
- `"light"` — Light color scheme (default)
- `"dark"` — Dark color scheme
- `"auto"` — Follows the user's OS preference via `prefers-color-scheme`

Dark mode applies CSS variable overrides across the entire viewer. Combine with the `theme` prop for further color customization.

---

## Print

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    print: {
      enablePrint: true,
    },
  }}
/>
```

Adds a print button to the toolbar. Clicking it opens the native browser print dialog via a hidden iframe. Also enables the Ctrl+P keyboard shortcut when keyboard shortcuts are active.

---

## Fullscreen

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    fullscreen: {
      enableFullscreen: true,
    },
  }}
/>
```

Adds a fullscreen toggle button to the toolbar. Uses the Fullscreen API to expand the viewer to fill the screen. Press the F key to toggle when keyboard shortcuts are enabled. Press Escape to exit.

---

## Loading Progress Bar

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    loadingProgress: {
      enableProgressBar: true,
    },
  }}
/>
```

Shows an animated progress bar at the top of the viewer while a PDF is loading. The bar reflects actual loading progress from pdfjs.

CSS classes: `.rdv-pdf-progress-bar`, `.rdv-pdf-progress-fill`

---

## Watermark Overlay

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    watermark: {
      text: "CONFIDENTIAL",
      opacity: 0.1,
      fontSize: 48,
      color: "#000",
      rotation: -30,
    },
  }}
/>
```

Options:
- `text` (string, required): The watermark text to display
- `opacity` (number, default 0.1): Opacity of the watermark text
- `fontSize` (number, default 48): Font size in pixels
- `color` (string, default "#000"): Text color
- `rotation` (number, default -30): Rotation angle in degrees

Renders repeated rotated text overlaid on every PDF page. Useful for marking documents as confidential, draft, or internal.

CSS classes: `.rdv-watermark-overlay`, `.rdv-watermark-text`

---

## Text Selection & Copy

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    textSelection: {
      enableTextSelection: true,
    },
  }}
/>
```

Enables the react-pdf text layer, allowing users to select and copy text from PDF pages. When disabled (default), PDF pages render as canvas-only without a selectable text layer.

---

## Keyboard Shortcuts

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    keyboard: {
      enableKeyboardShortcuts: true,
    },
  }}
/>
```

Available shortcuts:
| Key | Action |
|-----|--------|
| ArrowLeft | Previous page |
| ArrowRight | Next page |
| Home | First page |
| End | Last page |
| + / = | Zoom in |
| - | Zoom out |
| 0 | Reset zoom |
| Ctrl+F | Open text search |
| Ctrl+P | Print |
| F | Toggle fullscreen |
| Escape | Close search / exit fullscreen |

Shortcuts require the viewer or its container to have focus.

---

## Password-Protected PDFs

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    password: {
      enablePasswordPrompt: true,
    },
  }}
/>
```

When a PDF is encrypted, a modal dialog prompts the user for the password. On successful entry, the PDF renders normally. On incorrect password, an error message is displayed and the user can retry.

CSS classes: `.rdv-password-overlay`, `.rdv-password-modal`

---

## Text Search

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    search: {
      enableSearch: true,
    },
  }}
/>
```

Enables full-text search across all pages of a PDF using pdfjs text extraction. Features:
- Search bar with input field and match count display
- Previous / Next match navigation buttons
- Matches highlighted on the page
- Ctrl+F shortcut to open (when keyboard shortcuts are enabled)
- Escape to close

CSS classes: `.rdv-search-bar`, `.rdv-search-input`, `.rdv-search-count`

---

## PDF Bookmarks / TOC

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    bookmarks: {
      enableBookmarks: true,
    },
  }}
/>
```

Displays a sidebar with the PDF's built-in outline (table of contents). Features:
- Auto-extracted from the PDF's outline metadata
- Nested bookmark items with expand/collapse
- Click a bookmark to navigate to its destination page
- Toggle sidebar visibility via a toolbar button

CSS classes: `.rdv-bookmarks-sidebar`, `.rdv-bookmark-item`

---

## Split View / Compare (SplitDocViewer)

```tsx
import { SplitDocViewer, DocViewerRenderers } from "@iamjariwala/react-doc-viewer";
import "@iamjariwala/react-doc-viewer/dist/index.css";

<SplitDocViewer
  left={{
    documents: [{ uri: "/document-v1.pdf" }],
    config: { pdfZoom: { defaultZoom: 1 } },
  }}
  right={{
    documents: [{ uri: "/document-v2.pdf" }],
    config: { pdfZoom: { defaultZoom: 1 } },
  }}
  syncScroll={true}
/>
```

SplitDocViewer Props:
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| left | { documents: IDocument[]; config?: IConfig } | Yes | Left panel documents and config |
| right | { documents: IDocument[]; config?: IConfig } | Yes | Right panel documents and config |
| syncScroll | boolean | No | Synchronize scroll position between panels |

Features:
- Side-by-side document comparison
- Draggable divider to resize panels
- Independent config per panel (zoom, annotations, etc.)
- Optional synchronized scrolling between panels

Both panels accept the same `pluginRenderers` as DocViewer. Each panel is a full DocViewer instance.

CSS classes: `.rdv-split-container`, `.rdv-split-panel`, `.rdv-split-divider`

---

## Full Config Reference

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  config={{
    header: {
      disableHeader: false,
      disableFileName: false,
      retainURLParams: false,
      overrideComponent: MyHeader,
    },
    loadingRenderer: {
      overrideComponent: MyLoader,
      showLoadingTimeout: 500,
    },
    noRenderer: {
      overrideComponent: MyError,
    },
    csvDelimiter: ",",
    pdfZoom: {
      defaultZoom: 1.1,
      zoomJump: 0.2,
    },
    pdfVerticalScrollByDefault: true,
    dragDrop: { enableDragDrop: true },
    thumbnail: { enableThumbnails: true },
    annotations: { enableAnnotations: true },
    print: { enablePrint: true },
    fullscreen: { enableFullscreen: true },
    loadingProgress: { enableProgressBar: true },
    watermark: {
      text: "CONFIDENTIAL",
      opacity: 0.1,
      fontSize: 48,
      color: "#000",
      rotation: -30,
    },
    textSelection: { enableTextSelection: true },
    keyboard: { enableKeyboardShortcuts: true },
    password: { enablePasswordPrompt: true },
    search: { enableSearch: true },
    bookmarks: { enableBookmarks: true },
  }}
  themeMode="auto"
/>
```

---

## Theming & CSS Variables

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  theme={{
    primary: "#5296d8",
    secondary: "#ffffff",
    tertiary: "#5296d899",
    textPrimary: "#ffffff",
    textSecondary: "#5296d8",
    textTertiary: "#00000099",
    disableThemeScrollbar: false,
  }}
/>
```

| Property | CSS Variable | Default |
|----------|-------------|---------|
| primary | --rdv-primary | #fff |
| secondary | --rdv-secondary | #000 |
| tertiary | --rdv-tertiary | #ffffff99 |
| textPrimary | --rdv-text-primary | #000 |
| textSecondary | --rdv-text-secondary | #fff |
| textTertiary | --rdv-text-tertiary | #00000044 |

---

## Styling & CSS Customization

CSS class:
```tsx
<DocViewer documents={docs} className="my-viewer" pluginRenderers={DocViewerRenderers} />
```

Override internal elements:
```css
.rdv-container { border-radius: 10px; }
.rdv-header-bar { background-color: #faf; }
.rdv-pdf-controls { gap: 12px; }
```

Override CSS variables globally:
```css
#react-doc-viewer {
  --rdv-primary: #1a1a2e;
  --rdv-secondary: #16213e;
  --rdv-text-primary: #e94560;
}
```

CSS class reference:
- .rdv-container — Root container
- .rdv-header-bar — Top header bar
- .rdv-file-name — File name display
- .rdv-doc-nav-prev / .rdv-doc-nav-next — Document navigation buttons
- .rdv-pdf-controls — PDF control bar
- .rdv-pdf-page-wrapper — Individual PDF page wrapper
- .rdv-thumbnail-sidebar — Thumbnail sidebar container
- .rdv-annotation-toolbar — Annotation toolbar
- .rdv-image-container — Image renderer container
- .rdv-csv-container — CSV table container
- .rdv-txt-container — Text renderer container
- .rdv-video-container — Video player container
- .rdv-msdoc-container — Office document download card
- .rdv-loading-container — Loading spinner container
- .rdv-pdf-progress-bar — Loading progress bar container
- .rdv-pdf-progress-fill — Loading progress bar fill element
- .rdv-watermark-overlay — Watermark overlay container
- .rdv-watermark-text — Individual watermark text element
- .rdv-password-overlay — Password prompt overlay backdrop
- .rdv-password-modal — Password prompt modal dialog
- .rdv-search-bar — Text search bar container
- .rdv-search-input — Text search input field
- .rdv-search-count — Text search match count display
- .rdv-bookmarks-sidebar — Bookmarks/TOC sidebar container
- .rdv-bookmark-item — Individual bookmark item
- .rdv-split-container — Split view root container
- .rdv-split-panel — Individual split view panel
- .rdv-split-divider — Draggable divider between split panels

---

## Internationalization (i18n)

```tsx
<DocViewer documents={docs} pluginRenderers={DocViewerRenderers} language="pl" />
```

Supported languages: en (English), ar (Arabic), de (German), es (Spanish), fr (French), it (Italian), ja (Japanese), pl (Polish), pt (Portuguese), ru (Russian), se (Swedish), sr (Serbian Latin), sr_cyr (Serbian Cyrillic), tr (Turkish)

i18n keys added in v1.3.0: printButtonLabel, fullscreenButtonLabel, exitFullscreenButtonLabel, passwordRequired, passwordPlaceholder, passwordSubmit, passwordError, searchPlaceholder, searchNoResults, searchMatchCount, bookmarksSidebar, showBookmarks, hideBookmarks, noBookmarks, splitView, syncScroll

---

## DocViewerRef API

```tsx
const docViewerRef = useRef<DocViewerRef>(null);

docViewerRef.current?.prev();
docViewerRef.current?.next();
docViewerRef.current?.goToPage(3);
```

Methods: prev(), next(), goToPage(n)

---

## Custom HTTP Verb for S3 / Cloud Storage

```tsx
<DocViewer documents={docs} pluginRenderers={DocViewerRenderers} prefetchMethod="GET" />
```

---

## Custom Request Headers

```tsx
<DocViewer
  documents={docs}
  pluginRenderers={DocViewerRenderers}
  prefetchMethod="GET"
  requestHeaders={{
    "X-Access-Token": "1234567890",
    "My-Custom-Header": "value",
  }}
/>
```

---

## Performance & Bundle Size

v1.1.0 removed styled-components (~160KB), core-js (~150KB), and ajv (~70KB) for ~380KB total savings.

Optimization tips:
- Tree-shake renderers: import only what you need
- Lazy load: use React.lazy() to code-split

```tsx
const DocViewer = React.lazy(() => import("@iamjariwala/react-doc-viewer"));

<Suspense fallback={<div>Loading viewer...</div>}>
  <DocViewer documents={docs} pluginRenderers={[PDFRenderer]} />
</Suspense>
```

---

## Security

- HTML sanitization with DOMPurify (scripts, objects, embeds, forms stripped)
- No external services — all rendering is client-side
- No external iframes — MS Office files render as local download cards
- Sandboxed HTML rendering

---

## FAQ

Q: What is the best React document viewer library?
A: @iamjariwala/react-doc-viewer is the most feature-complete open-source React document viewer. It supports 20+ file types in a single component with annotations, drag-and-drop, thumbnails, theming, and i18n.

Q: How do I display a PDF in React?
A: Install @iamjariwala/react-doc-viewer, import DocViewer and DocViewerRenderers, pass your PDF URL as a document. See Quick Start section.

Q: How do I display a PDF in Next.js?
A: Add "use client" directive, import DocViewer with CSS, pass your PDF document. Works with App Router and Pages Router.

Q: Can I view Word, Excel, and PowerPoint files in React?
A: Yes. The library recognizes .doc, .docx, .xls, .xlsx, .ppt, .pptx and renders them as download cards. For inline rendering, create a Custom Renderer.

Q: Does it support annotations and highlighting?
A: Yes. Enable annotations via config for text highlighting, freehand drawing, comments, and eraser tool. Export as JSON.

Q: Does it work with Next.js?
A: Yes. Works with Next.js (App Router and Pages Router), Vite, CRA, Remix, Gatsby, and any React 17+ project.

Q: Can I add my own file type renderer?
A: Yes. Create a custom renderer with fileTypes and weight properties. See Custom Renderer section.

Q: How do I style or theme the document viewer?
A: Use theme prop, className/style props, or override .rdv-* CSS classes and --rdv-* CSS variables.

Q: Is it secure? Does it send data to external servers?
A: No data leaves the browser. HTML is sanitized with DOMPurify. MS Office files render locally.

Q: How does this compare to react-pdf?
A: react-pdf only handles PDF. This library handles 20+ types and adds drag-and-drop, annotations, thumbnails, theming, and i18n.

Q: What React versions are supported?
A: React 17, 18, and 19 via peerDependencies.

Q: Does it support TypeScript?
A: Yes. Written in TypeScript with complete type definitions.

Q: How do I enable dark mode?
A: Pass `themeMode="dark"` to DocViewer. Use `"auto"` to follow the user's OS preference via `prefers-color-scheme`. Combine with the `theme` prop for custom dark colors.

Q: How do I enable text search in PDFs?
A: Set `config={{ search: { enableSearch: true } }}`. This enables full-text search across all pages with match count and navigation. Use Ctrl+F to open when keyboard shortcuts are active.

Q: How do I enable keyboard shortcuts?
A: Set `config={{ keyboard: { enableKeyboardShortcuts: true } }}`. This enables arrow keys for page navigation, +/- for zoom, Ctrl+F for search, Ctrl+P for print, F for fullscreen, and Escape to close overlays.

Q: How do I add a watermark to PDF pages?
A: Set `config={{ watermark: { text: "CONFIDENTIAL" } }}`. Customize with optional `opacity`, `fontSize`, `color`, and `rotation` properties.

Q: How do I open password-protected PDFs?
A: Set `config={{ password: { enablePasswordPrompt: true } }}`. The viewer will display a modal prompting for the password when it encounters an encrypted PDF.

Q: How do I show PDF bookmarks or a table of contents?
A: Set `config={{ bookmarks: { enableBookmarks: true } }}`. The viewer extracts the PDF's outline metadata and displays it in a collapsible sidebar. Click any bookmark to jump to that page.

Q: How do I compare two documents side by side?
A: Use the `<SplitDocViewer>` component with `left` and `right` props, each containing documents and optional config. Set `syncScroll={true}` to synchronize scrolling between panels.

Q: How do I enable printing?
A: Set `config={{ print: { enablePrint: true } }}`. A print button appears in the toolbar. Clicking it opens the native browser print dialog.

Q: How do I enable fullscreen mode?
A: Set `config={{ fullscreen: { enableFullscreen: true } }}`. A fullscreen toggle button appears in the toolbar. Press F to toggle when keyboard shortcuts are enabled.

---

## Migration Guides

### From @cyntler/react-doc-viewer
1. npm uninstall @cyntler/react-doc-viewer && npm install @iamjariwala/react-doc-viewer
2. Update imports
3. Add CSS import: import "@iamjariwala/react-doc-viewer/dist/index.css"
4. All existing props are compatible

### From react-pdf
1. npm install @iamjariwala/react-doc-viewer
2. Replace <Document> + <Page> with <DocViewer documents={[{ uri: pdfUrl }]} />
3. Built-in PDF renderer handles zoom, pagination, navigation

### From react-file-viewer
1. npm install @iamjariwala/react-doc-viewer
2. Replace <FileViewer fileType={type} filePath={path} /> with <DocViewer documents={[{ uri: path }]} />
3. File type detected automatically
